<%= simple_form_for(@member) do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>
  <div class="form-inputs" style="width: 600px; margin: 0 auto; padding-top: 30px;">
    <%= f.input :first_name, label: 'Nome' %>
    <%= f.input :last_name, label: 'Sobrenome' %>
    <%= f.date_field :birth_date, label: 'Data de nascimento', placeholder: ""%>
    <%= f.input :gender, label: 'Genero' %>
    <%= f.input :category, label: 'Categoria' %>
    <%= f.input :user_id, as: :hidden %>
    <%= f.input :admin, as: :hidden %>

    <%= f.simple_fields_for :member_vaccines do |mv| %>
      <% @vaccines.each do |vaccine| %>
        <h3><%= vaccine.name %></h3>
        <%= mv.input :vaccine_id, input_html:{value: vaccine.id, name:"member[member_vaccines_attributes][#{vaccine.id}][vaccine_id]", id:"member_member_vaccines_attributes_#{vaccine.id}_vaccine_id"}, as: :hidden %>
        <%=  mv.input :vaccine_date, input_html:{value: vaccine.id, name:"member[member_vaccines_attributes][#{vaccine.id}][vaccine_date]", id:"member_member_vaccines_attributes_#{vaccine.id}_vaccine_date"} %>
        <%= mv.input :vaccinated, input_html:{value: vaccine.id, name:"member[member_vaccines_attributes][#{vaccine.id}][vaccinated]", id:"member_member_vaccines_attributes_#{vaccine.id}_vaccinated"} %>
      <% end %>
      <% end %>
        </div>

  <div class="form-actions" style="width: 600px; margin: 0 auto; padding-top: 30px;">
    <%= f.button :submit, value: "Adicionar", class: "btn btn-outline-success" %>
  </div>
<% end %>


